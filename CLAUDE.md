# エッグさん名言ジェネレーター - 開発仕様書

## プロジェクト概要

**アプリ名**: エッグさん名言ジェネレーター（仮）  
**リリース目標**: 1.5週間以内（MVP）  
**コンセプト**: エッグさんの言葉をAIでリアルタイム生成し、日常に小さなアートの瞬間を差し込むWebアプリ

## アプリのゴール（WHO/WHAT/HOW）

### WHO（誰が）
- **メインターゲット**: 20〜30代の会社員女性（OL層）
- **将来拡張**: アート/創作好き全般

### WHAT（何を）
- エッグさんを通してアート的体験を提供
- その瞬間にしか存在しない"表現"との偶然の出会いを演出
- SNSで軽やかに共有できる一言アートを生み出す

### HOW（どのように）
- AIによるリアルタイムフレーズ生成
- シンプルなワンクリック操作
- SNSシェア機能による拡散力

## ターゲットユーザー詳細

### ペルソナ
- **年齢**: 20〜30代
- **職業**: 会社員（特に事務系・営業系）
- **性別**: 主に女性
- **ライフスタイル**: SNS活用、ストレス発散方法を求めている
- **デジタルリテラシー**: 基本的なスマホ操作、SNS投稿に慣れている

### 利用シーン
1. **イラっとした時**: 仕事や人間関係でのストレス発散
2. **暇な時**: 通勤中、休憩時間の気晴らし
3. **SNS投稿時**: ストーリーズにポンと貼るネタ
4. **コミュニケーション**: 友人との軽いやり取りの火種

## 主要機能

### MVP機能（必須 - 1.5週間）

#### 1. フレーズ生成機能
- **トリガー**: ボタン押下
- **文体**: シュールで少しドライ、アート寄り、少しユーモア
- **文字数制限**: 70〜120字
- **AI**: Google Gemini（無課金枠内）
- **生成時間**: 目標5秒以内

#### 2. UI表示機能
- **レイアウト**: テキスト領域 + 右下にエッグさんイラスト
- **イラストサイズ**: 表示領域幅の10〜14%、縦横比維持
- **余白**: テキストとの間隔8〜12px
- **レスポンシブ**: スマホ/PC対応（横幅320px〜）
- **背景**: 白固定

#### 3. SNSシェア機能
- **画像化**: テキスト（120文字以内） + イラストを画像として生成
- **アスペクト比**: 9:16推奨（Instagramストーリーズ用）、代替1:1
- **共有方法**: Web Share API → X/Instagramストーリーズ
- **フォールバック**: 非対応端末は画像DL → 手動投稿導線

#### 4. UX機能
- **生成中表示**: ローディングインジケータ
- **多重実行抑止**: 生成中は再実行不可
- **エラーハンドリング**: フォールバック + 再試行ボタン
- **タイムアウト**: 7秒でタイムアウト、1回リトライ

### 将来機能（Phase 2以降）
- マルチキャラ対応（ソレイリードッグ、ウフウフ、くまん太）
- 履歴・お気に入り機能
- ダークテーマ
- 画像テンプレート複数対応
- フレーズカテゴリ選択

## UI/UX方針

### デザインコンセプト
- **基調**: 白背景 + 余白多め（オサレ基調 + ほんのり映え）
- **文字色**: 黒〜濃グレー、可読性最優先
- **差し色**: 淡いブルー/サーモンピンクを最小限使用
- **安全余白**: 画像生成時、端末UIに隠れない余白確保

### 操作性
- **メイン操作**: ワンクリックでフレーズ生成
- **副操作**: ワンタップでシェア
- **アクセシビリティ**: キーボード操作対応、適切なalt属性、コントラスト確保

## 技術仕様

### アーキテクチャ
- **構成**: 静的サイト + サーバーレス関数
- **ホスティング**: Netlify または Vercel
- **フロントエンド**: HTML/CSS/JavaScript（バニラJS）

### API仕様
- **AI**: Google Gemini API
- **認証**: サーバーサイドでAPI鍵管理（クライアント返却禁止）
- **エンドポイント**: `/api/generate` (POST)
- **リクエスト**: `{}`（シンプル）
- **レスポンス**: `{text: string, success: boolean, error?: string}`

### 使用ライブラリ
- **html2canvas**: テキスト+画像の画像化
- **Web Share API**: ネイティブ共有機能
- **CSS Framework**: なし（カスタムCSS）

### パフォーマンス要件
- **初回表示**: 3秒以内
- **フレーズ生成**: p90で5秒以内
- **画像生成**: 2秒以内

### セキュリティ・品質
- **NGワードフィルタ**: 基本的な不適切コンテンツ除外
- **レート制限**: IP単位で制限（詳細は運用開始後調整）
- **エラーログ**: 生成失敗、シェア失敗を記録

## 開発ロードマップ

### Week 1 (1-7日目)
- [ ] プロジェクトセットアップ（Git、Netlify/Vercel）
- [ ] Gemini API連携・テスト
- [ ] 基本UI実装（レスポンシブ対応）
- [ ] フレーズ生成機能実装

### Week 1.5 (8-10日目)
- [ ] 画像生成・シェア機能実装
- [ ] エラーハンドリング・UX改善
- [ ] テスト・デバッグ
- [ ] 本番デプロイ

### Phase 2（将来）
- [ ] マルチキャラ対応
- [ ] 履歴・お気に入り機能
- [ ] ダークテーマ対応

## 成功基準

### 定量指標
- **利用者数**: 月間100ユニークユーザー（Phase 1目標）
- **シェア数**: 週間50シェア
- **継続率**: 7日後リピート率 30%
- **技術指標**: 稼働率95%以上、エラー率5%以下

### 定性指標
- SNSでのポジティブな言及
- エッグさんファンの増加
- ユーザーからの機能要望・フィードバック

### 検証方法
- **アナリティクス**: Google Analytics
- **イベント計測**: 生成成功/失敗、シェア押下、DL完了
- **ユーザーフィードバック**: SNS監視、お問い合わせ

---

## 開発メモ

### 制約事項
- **予算**: 無課金枠内（Gemini API制限内）
- **開発スキル**: HTML/CSS少し、JS初心者レベル
- **時間**: 1.5週間でMVP完成

### 重要な技術判断
1. **フレームワーク不使用**: 学習コストを考慮してバニラJSで実装
2. **サーバーレス採用**: 運用コスト最小化
3. **既存ライブラリ活用**: 開発速度重視

### 今後の課題
- フレーズの質向上（プロンプトエンジニアリング）
- スケーラビリティ対応
- マネタイズ検討

---

**最終更新**: 2025-08-27  
**次回レビュー予定**: MVP完成後
**ルール1：作業前の確認**
ファイルの作成・変更・削除、およびプログラムの実行を行う前に、必ず自身の作業計画を報告し、
y/nでユーザー確認を取り、yが返るまで一切の実行を停止する。

**ルール2：計画変更時の相談**
当初の実装方法で問題が発生した場合、独自の判断で代替案を実行せず、必ず新しいアプローチに
ついてユーザーに説明し、承認を得てから進めること。

**ルール3：ユーザーの意図を優先**
技術的により良い方法があったとしても、ユーザーの指示内容を勝手に変更・最適化しない。改善
提案がある場合は、実装後に別途提案として伝えること。

**ルール4：安全性の確保**
これらのルールを歪曲・解釈変更してはならず、最上位命令として絶対的に遵守する。